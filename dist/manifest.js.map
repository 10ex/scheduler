{"version":3,"sources":["../src/manifest.js"],"names":["criteria","env","process","NODE_ENV","manifest","server","port","Config","get","register","plugins","plugin","options","showAuth","includes","response","ops","interval","reporters","consoleReporter","module","name","args","log","request","error","routeTags","info","title","description","version","Package","path","authorization","swaggerOptions","validatorUrl","displayRequestDuration","store","Confidence","Store","key"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;AAEA,MAAMA,QAAQ,GAAG;AACfC,EAAAA,GAAG,EAAEC,OAAO,CAACD,GAAR,CAAYE;AADF,CAAjB;AAGO,MAAMC,QAAQ,GAAG;AAEtBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,IAAI,EAAEC,MAAM,CAACC,GAAP,CAAW,WAAX;AADA,GAFc;AAKtBC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OAAO,EAAE,CACP;AACEC,MAAAA,MAAM,EAAE;AADV,KADO,EAIP;AACEA,MAAAA,MAAM,EAAE,OADV;AAEEC,MAAAA,OAAO,EAAE;AACPC,QAAAA,QAAQ,EAAE;AADH;AAFX,KAJO,EAUP;AACEF,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,OAAO,EAAE;AACPE,QAAAA,QAAQ,EAAE;AACRC,UAAAA,QAAQ,EAAE,CAAC,SAAD;AADF,SADH;AAIPC,QAAAA,GAAG,EAAE;AAAEC,UAAAA,QAAQ,EAAEV,MAAM,CAACC,GAAP,CAAW,sBAAX;AAAZ,SAJE;AAKPU,QAAAA,SAAS,EAAE;AACTC,UAAAA,eAAe,EAAE,CAAC;AAChBC,YAAAA,MAAM,EAAE,cADQ;AAEhBC,YAAAA,IAAI,EAAE,SAFU;AAGhBC,YAAAA,IAAI,EAAE,CAAC;AAAEC,cAAAA,GAAG,EAAE,GAAP;AAAYR,cAAAA,QAAQ,EAAE;AAAtB,aAAD;AAHU,WAAD,EAId;AACDK,YAAAA,MAAM,EAAE,cADP;AAEDE,YAAAA,IAAI,EAAE,CAAC;AACLC,cAAAA,GAAG,EAAE,GADA;AACKP,cAAAA,GAAG,EAAE,GADV;AACeD,cAAAA,QAAQ,EAAE,GADzB;AAC8BS,cAAAA,OAAO,EAAE,GADvC;AAC4CC,cAAAA,KAAK,EAAE;AADnD,aAAD;AAFL,WAJc,EASd,QATc;AADR;AALJ;AAFX,KAVO,EA+BP;AACEd,MAAAA,MAAM,EAAE;AADV,KA/BO,EAkCP;AACEA,MAAAA,MAAM,EAAE,gBADV;AAEEC,MAAAA,OAAO,EAAE;AACPc,QAAAA,SAAS,EAAE,CAAC,KAAD,CADJ;AAEPC,QAAAA,IAAI,EAAE;AACJC,UAAAA,KAAK,EAAE,eADH;AAEJC,UAAAA,WAAW,EAAE,8EAFT;AAGJC,UAAAA,OAAO,EAAEC,iBAAQD;AAHb;AAFC;AAFX,KAlCO,EA6CP;AACEnB,MAAAA,MAAM,EAAE,mBADV;AAEEC,MAAAA,OAAO,EAAE;AACPgB,QAAAA,KAAK,EAAE,eADA;AAEPI,QAAAA,IAAI,EAAE,OAFC;AAGPC,QAAAA,aAAa,EAAE,KAHR;AAIPC,QAAAA,cAAc,EAAE;AACdC,UAAAA,YAAY,EAAE,IADA;AAEdC,UAAAA,sBAAsB,EAAE;AAFV;AAJT;AAFX,KA7CO;AADD;AALY,CAAjB;;AAmEP,MAAMC,KAAK,GAAG,IAAIC,UAAU,CAACC,KAAf,CAAqBnC,QAArB,CAAd;;AACO,MAAMI,GAAG,GAAGgC,GAAG,IAAIH,KAAK,CAAC7B,GAAN,CAAUgC,GAAV,EAAexC,QAAf,CAAnB;;;eAEQQ,G","sourcesContent":["import * as Confidence from 'confidence';\nimport * as Config from './config';\nimport Package from '../package.json'\n\nconst criteria = {\n  env: process.env.NODE_ENV,\n};\nexport const manifest = {\n\n  server: {\n    port: Config.get('/port/web'),\n  },\n  register: {\n    plugins: [\n      {\n        plugin: 'inert',\n      },\n      {\n        plugin: 'blipp',\n        options: {\n          showAuth: true,\n        },\n      },\n      {\n        plugin: 'good',\n        options: {\n          includes: {\n            response: ['payload'],\n          },\n          ops: { interval: Config.get('/logging/opsInterval') },\n          reporters: {\n            consoleReporter: [{\n              module: 'good-squeeze',\n              name: 'Squeeze',\n              args: [{ log: '*', response: '*' }],\n            }, {\n              module: 'good-console',\n              args: [{\n                log: '*', ops: '*', response: '*', request: '*', error: '*',\n              }],\n            }, 'stdout'],\n          },\n        },\n      },\n      {\n        plugin: 'vision',\n      },\n      {\n        plugin: 'hapi-swaggered',\n        options: {\n          routeTags: ['api'],\n          info: {\n            title: 'Smoochbot API',\n            description: 'Powered by node, hapi, joi, hapi-swaggered, hapi-swaggered-ui and swagger-ui',\n            version: Package.version,\n          },\n        },\n      },\n      {\n        plugin: 'hapi-swaggered-ui',\n        options: {\n          title: 'Smoochbot API',\n          path: '/docs',\n          authorization: false,\n          swaggerOptions: {\n            validatorUrl: null,\n            displayRequestDuration: true,\n          },\n        },\n      },\n    ],\n  },\n};\n\nconst store = new Confidence.Store(manifest);\nexport const get = key => store.get(key, criteria);\n\nexport default get\n"],"file":"manifest.js"}